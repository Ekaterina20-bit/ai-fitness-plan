<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Регистрация — AI-программа похудения</title>
  <style>
    body {
      background: linear-gradient(135deg, #ffe0f0 0%, #f3e6ff 100%);
      min-height: 100vh;
      margin: 0;
      font-family: 'Arial Rounded MT Bold', Arial, sans-serif;
      color: #a259c6;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .reg-container {
      background: #fff;
      border-radius: 28px;
      box-shadow: 0 8px 32px 0 rgba(180, 120, 200, 0.10), 0 1.5px 8px 0 rgba(255, 120, 180, 0.08);
      max-width: 500px;
      width: 100%;
      padding: 38px 28px 28px 28px;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 24px 0;
    }
    h1 {
      font-size: 1.5rem;
      font-weight: 800;
      color: #d72660;
      margin-bottom: 10px;
      text-align: center;
    }
    .subtitle {
      font-size: 1.08rem;
      color: #a259c6;
      font-weight: 500;
      margin-bottom: 28px;
      text-align: center;
    }
    .features {
      background: linear-gradient(135deg, #ffe0f0 60%, #f3e6ff 100%);
      border-radius: 18px;
      box-shadow: 0 2px 8px 0 rgba(210, 100, 180, 0.07);
      padding: 18px 18px 14px 18px;
      margin-bottom: 28px;
      width: 100%;
      max-width: 420px;
    }
    .features-list {
      list-style: none;
      padding: 0;
      margin: 0;
      color: #b13e7c;
      font-size: 1.05rem;
      font-weight: 600;
    }
    .features-list li {
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .reg-form {
      width: 100%;
      max-width: 340px;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 10px;
    }
    .reg-label {
      font-size: 1.08rem;
      color: #a259c6;
      font-weight: 600;
      margin-bottom: 12px;
      text-align: center;
    }
    .reg-input {
      width: 100%;
      padding: 14px 12px;
      border-radius: 14px;
      border: 1.5px solid #f3e6ff;
      font-size: 1.08rem;
      color: #a259c6;
      background: #fff;
      outline: none;
      margin-bottom: 10px;
      transition: border 0.18s;
    }
    .reg-input:focus {
      border: 1.5px solid #a259c6;
    }
    .reg-warning {
      color: #d72660;
      font-size: 0.98rem;
      font-weight: 600;
      margin-bottom: 10px;
      text-align: center;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .reg-btn {
      width: 100%;
      background: linear-gradient(90deg, #ff7eb3 0%, #a259c6 100%);
      color: #fff;
      font-size: 1.18rem;
      font-weight: 700;
      border: none;
      border-radius: 999px;
      padding: 15px 0;
      margin-top: 6px;
      box-shadow: 0 4px 16px 0 rgba(210, 100, 180, 0.13);
      cursor: pointer;
      transition: background 0.2s, box-shadow 0.2s;
      letter-spacing: 0.01em;
    }
    .reg-btn:hover, .reg-btn:focus {
      background: linear-gradient(90deg, #d72660 0%, #a259c6 100%);
      box-shadow: 0 6px 24px 0 rgba(210, 100, 180, 0.18);
    }
    .reg-note {
      color: #a259c6;
      font-size: 0.97rem;
      margin-top: 10px;
      text-align: center;
      opacity: 0.85;
    }
    @media (max-width: 600px) {
      .reg-container {
        padding: 18px 2vw 18px 2vw;
        border-radius: 16px;
        max-width: 98vw;
      }
      h1 {
        font-size: 1.08rem;
      }
      .subtitle, .reg-label, .features-list {
        font-size: 0.98rem;
      }
      .features {
        padding: 10px 6px 8px 6px;
      }
      .reg-btn {
        font-size: 1rem;
        padding: 12px 0;
      }
    }
  </style>
  <!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(102777301, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true,
        webvisor:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/102777301" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
</head>
<body>
  <div class="reg-container">
    <h1>Готово! Твоя программа составлена</h1>
    <div class="subtitle">AI рассчитал твой рацион, упражнения и психологические рекомендации</div>
    <div class="features">
      <ul class="features-list">
        <li>✅ Персонализированный рацион на 7 дней</li>
        <li>✅ Тренировки без зала и оборудования</li>
        <li>✅ Мотивационные триггеры и советы</li>
        <li>✅ Дневник прогресса и напоминания</li>
      </ul>
    </div>
    <form class="reg-form" id="regForm" autocomplete="off">
      <label class="reg-label" for="email">Куда прислать твою AI-программу?</label>
      <div class="subtitle" style="margin-bottom: 16px; margin-top: -8px; font-size: 1rem; color: #a259c6;">Укажи e-mail, и мы покажем тебе твой рацион и план тренировок</div>
      <input class="reg-input" type="email" id="email" name="email" placeholder="example@gmail.com" value="" required autocomplete="off">
      <div class="reg-warning" id="regWarning" style="display:none"></div>
      <button class="reg-btn" type="submit">Получить мою программу</button>
      <div class="reg-note">Никакого спама. Только доступ к твоей персональной программе.</div>
    </form>
  </div>
  <script>
    const phoneInput = document.getElementById('phone');
    phoneInput.addEventListener('keydown', function(e) {
      // Разрешаем навигацию, копипасту, стрелки, delete, backspace после +7
      const allowedKeys = [8, 9, 13, 37, 38, 39, 40, 46];
      if (
        allowedKeys.includes(e.keyCode) ||
        (e.ctrlKey && (e.key === 'a' || e.key === 'c' || e.key === 'v' || e.key === 'x'))
      ) return;
      // Не даём удалить +7
      if ((this.selectionStart <= 2 && (e.keyCode === 8 || e.keyCode === 46)) ||
          (this.selectionStart < 2 && e.key.length === 1)) {
        e.preventDefault();
        this.setSelectionRange(2, 2);
        return;
      }
      // Только цифры после +7
      if (this.selectionStart >= 2 && !/\d/.test(e.key) && e.key.length === 1) {
        e.preventDefault();
      }
      // Не больше 12 символов
      if (this.value.length >= 12 && this.selectionStart === this.selectionEnd && e.key.length === 1 && this.selectionStart >= this.value.length) {
        e.preventDefault();
      }
    });
    phoneInput.addEventListener('input', function(e) {
      // Удаляем всё, кроме +7 и 10 цифр
      let val = this.value;
      if (!val.startsWith('+7')) val = '+7' + val.replace(/[^\d]/g, '');
      val = '+7' + val.slice(2).replace(/[^\d]/g, '').slice(0, 10);
      this.value = val;
    });
    document.getElementById('regForm').onsubmit = function(e) {
      e.preventDefault();
      var emailInput = document.getElementById('email');
      var warning = document.getElementById('regWarning');
      var email = emailInput.value.trim();
      // Простая валидация e-mail
      var valid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      if (!email || !valid) {
        warning.textContent = 'Пожалуйста, введите корректный e-mail';
        warning.style.display = 'block';
        emailInput.focus();
        emailInput.style.border = '1.5px solid #d72660';
        return;
      }
      warning.style.display = 'none';
      emailInput.style.border = '';
      window.location.href = 'paywall.html';
    };
  </script>
</body>
</html>
